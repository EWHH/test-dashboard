<div id="call-history-view" class="view-container">
    <div class="call-history-main-content">
        <div class="call-history-metrics">
            <div class="call-history-metric-card">
                <h3 id="call-history-callCount">0</h3>
                <p>Call Records</p>
            </div>
        </div>
        <div class="call-history-table-header">
            <div class="search-bar">
                <input type="text" id="call-history-search" placeholder="Search calls">
            </div>
            <div class="filters">
                <label>
                    Welcome Call:
                    <select id="call-history-filterWelcomeCall">
                        <option value="">All</option>
                        <option value="success">Success</option>
                        <option value="failure">Failure</option>
                    </select>
                </label>
                <label>
                    Target Parent:
                    <select id="call-history-filterTargetParent">
                        <option value="">All</option>
                        <option value="yes">Yes</option>
                        <option value="no">No</option>
                    </select>
                </label>
                <label>
                    Interest:
                    <select id="call-history-filterProductInterest">
                        <option value="">All</option>
                        <option value="yes">Yes</option>
                        <option value="no">No</option>
                    </select>
                </label>
                <label>
                    Start Date:
                    <input type="date" id="call-history-filterStartDate" max="">
                </label>
                <label>
                    End Date:
                    <input type="date" id="call-history-filterEndDate" min="">
                </label>
            </div>
            <div class="actions">
                <button id="call-history-applyFilters">Apply Filters</button>
                <button id="call-history-sendEmail">Send Email</button>
                <button id="call-history-exportCsv">Export to CSV</button>
            </div>
        </div>
        <div class="call-history-table-section" style="overflow-x: auto;">
            <table id="call-history-callTable" class="call-history-table" style="table-layout: fixed; width: 100%;">
                <thead>
                    <tr>
                        <th class="checkbox-column" style="width: 40px;"></th>
                        <th style="width: 60px; font-size: 14px; padding: 8px;">ID</th>
                        <th style="width: 140px; font-size: 14px; padding: 8px;">Created At</th>
                        <th style="width: 120px; font-size: 14px; padding: 8px;">Call Name</th>
                        <th style="width: 120px; font-size: 14px; padding: 8px;">Phone Number</th>
                        <th style="width: 100px; font-size: 14px; padding: 8px;">Call Type</th>
                        <th style="width: 100px; font-size: 14px; padding: 8px;">Interest</th>
                        <th style="width: 100px; font-size: 14px; padding: 8px;">Target Parent</th>
                        <th style="width: 100px; font-size: 14px; padding: 8px;">Welcome Call</th>
                        <th style="width: 100px; font-size: 14px; padding: 8px;">Biz Owner ID</th>
                        <th style="width: 100px; font-size: 14px; padding: 8px;">Leads List ID</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>

        <!-- Email Popup -->
        <div id="call-history-emailPopup" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1000; background: #ffffff; width: 400px; max-width: 90%; border-radius: 15px; box-shadow: 0 8px 16px rgba(0,0,0,0.15); padding: 25px; font-family: Arial, sans-serif;">
            <div class="title" style="display: flex; align-items: center; margin-bottom: 20px;">
                <span class="icon" style="font-size: 24px; margin-right: 10px; color: #28a745;">ðŸ“§</span>
                <span style="font-size: 20px; font-weight: 600; color: #333;">Send Email to Agent</span>
            </div>
            <form id="call-history-emailForm" style="display: flex; flex-direction: column; gap: 15px;">
                <label style="display: flex; flex-direction: column; font-size: 14px; color: #555;">
                    Name
                    <input type="text" name="recipientName" required placeholder="Name of Email Recipient" style="margin-top: 5px; padding: 10px; border: 1px solid #ddd; border-radius: 5px; font-size: 14px; color: #333; outline: none; transition: border-color 0.2s; width: 100%; box-sizing: border-box;">
                </label>
                <label style="display: flex; flex-direction: column; font-size: 14px; color: #555;">
                    Email
                    <input type="email" name="recipientEmail" required placeholder="recipient@example.com" style="margin-top: 5px; padding: 10px; border: 1px solid #ddd; border-radius: 5px; font-size: 14px; color: #333; outline: none; transition: border-color 0.2s; width: 100%; box-sizing: border-box;">
                </label>
                <div class="buttons" style="display: flex; gap: 10px; margin-top: 10px;">
                    <button type="button" class="cancel-btn" id="call-history-cancelEmailBtn" style="flex: 1; padding: 10px; border: none; border-radius: 5px; background: #f8f9fa; color: #333; font-size: 14px; cursor: pointer; transition: background 0.2s;">Cancel</button>
                    <button type="submit" class="submit-btn" style="flex: 1; padding: 10px; border: none; border-radius: 5px; background: #28a745; color: #fff; font-size: 14px; cursor: pointer; transition: background 0.2s;">Send</button>
                </div>
            </form>
        </div>
    </div>
</div>